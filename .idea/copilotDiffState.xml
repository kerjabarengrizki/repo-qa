<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/.github/workflows/ci.yml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/.github/workflows/ci.yml" />
              <option name="originalContent" value="name: CI - Automation Tests&#10;&#10;on:&#10;  push:&#10;    branches:&#10;      - main&#10;      - master&#10;      - develop&#10;  pull_request:&#10;    branches:&#10;      - main&#10;      - master&#10;      - develop&#10;  workflow_dispatch:&#10;&#10;jobs:&#10;  test:&#10;    name: Run Automation Tests&#10;    runs-on: ubuntu-latest&#10;&#10;    strategy:&#10;      matrix:&#10;        suite: [smoke.xml]&#10;&#10;    steps:&#10;      - name: Checkout code&#10;        uses: actions/checkout@v4&#10;&#10;      - name: Validate Gradle Wrapper&#10;        uses: gradle/wrapper-validation-action@v2&#10;&#10;      - name: Set up JDK 17&#10;        uses: actions/setup-java@v4&#10;        with:&#10;          java-version: '17'&#10;          distribution: 'temurin'&#10;          cache: 'gradle'&#10;&#10;      - name: Install Chrome&#10;        uses: browser-actions/setup-chrome@v1&#10;        with:&#10;          chrome-version: stable&#10;&#10;      - name: Set up ChromeDriver&#10;        uses: nanasess/setup-chromedriver@v2&#10;&#10;      - name: Display Chrome and ChromeDriver versions&#10;        run: |&#10;          google-chrome --version || chrome --version&#10;          chromedriver --version&#10;          which google-chrome || which chrome&#10;          which chromedriver&#10;&#10;      - name: Make gradlew executable&#10;        run: chmod +x ./gradlew&#10;&#10;      - name: Run tests with Gradle&#10;        run: ./gradlew clean test -Psuite=${{ matrix.suite }} -Penv=staging --no-daemon --stacktrace&#10;        env:&#10;          GITHUB_ACTIONS: true&#10;          CHROME_BIN: /usr/bin/google-chrome&#10;&#10;      - name: Generate Test Report&#10;        if: always()&#10;        run: |&#10;          echo &quot;Test execution completed&quot;&#10;          ls -la build/reports/tests/test/ || echo &quot;No test reports found&quot;&#10;&#10;      - name: Upload Test Reports&#10;        if: always()&#10;        uses: actions/upload-artifact@v4&#10;        with:&#10;          name: test-reports-${{ matrix.suite }}&#10;          path: |&#10;            build/reports/tests/test/&#10;            build/test-results/test/&#10;          retention-days: 30&#10;&#10;      - name: Upload Test Results&#10;        if: always()&#10;        uses: actions/upload-artifact@v4&#10;        with:&#10;          name: test-results-${{ matrix.suite }}&#10;          path: build/test-results/test/*.xml&#10;          retention-days: 30&#10;&#10;      - name: Publish Test Results&#10;        if: always()&#10;        uses: EnricoMi/publish-unit-test-result-action@v2&#10;        with:&#10;          files: |&#10;            build/test-results/test/*.xml&#10;          check_name: Test Results - ${{ matrix.suite }}&#10;          comment_mode: off&#10;&#10;" />
              <option name="updatedContent" value="name: CI - Automation Tests&#10;&#10;on:&#10;  push:&#10;    branches:&#10;      - main&#10;      - master&#10;      - develop&#10;  pull_request:&#10;    branches:&#10;      - main&#10;      - master&#10;      - develop&#10;  workflow_dispatch:&#10;&#10;jobs:&#10;  test:&#10;    name: Run Automation Tests&#10;    runs-on: ubuntu-latest&#10;&#10;    strategy:&#10;      matrix:&#10;        suite: [smoke.xml]&#10;&#10;    steps:&#10;      - name: Checkout code&#10;        uses: actions/checkout@v4&#10;&#10;      - name: Validate Gradle Wrapper&#10;        uses: gradle/wrapper-validation-action@v2&#10;&#10;      - name: Set up JDK 17&#10;        uses: actions/setup-java@v4&#10;        with:&#10;          java-version: '17'&#10;          distribution: 'temurin'&#10;          cache: 'gradle'&#10;&#10;      - name: Setup Chrome and ChromeDriver&#10;        run: |&#10;          sudo apt-get update&#10;          sudo apt-get install -y wget unzip&#10;          &#10;          # Install Chrome&#10;          wget -q https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb&#10;          sudo dpkg -i google-chrome-stable_current_amd64.deb || sudo apt-get install -f -y&#10;          &#10;          # Get Chrome version&#10;          CHROME_VERSION=$(google-chrome --version | awk '{print $3}' | cut -d. -f1)&#10;          echo &quot;Chrome version: $CHROME_VERSION&quot;&#10;          &#10;          # Download matching ChromeDriver&#10;          CHROMEDRIVER_VERSION=$(curl -s &quot;https://googlechromelabs.github.io/chrome-for-testing/LATEST_RELEASE_$CHROME_VERSION&quot;)&#10;          echo &quot;ChromeDriver version: $CHROMEDRIVER_VERSION&quot;&#10;          &#10;          wget -q &quot;https://storage.googleapis.com/chrome-for-testing-public/$CHROMEDRIVER_VERSION/linux64/chromedriver-linux64.zip&quot;&#10;          unzip -q chromedriver-linux64.zip&#10;          sudo mv chromedriver-linux64/chromedriver /usr/local/bin/&#10;          sudo chmod +x /usr/local/bin/chromedriver&#10;          &#10;          # Verify installation&#10;          echo &quot;Chrome installed at: $(which google-chrome)&quot;&#10;          google-chrome --version&#10;          echo &quot;ChromeDriver installed at: $(which chromedriver)&quot;&#10;          chromedriver --version&#10;&#10;      - name: Make gradlew executable&#10;        run: chmod +x ./gradlew&#10;&#10;      - name: Run tests with Gradle&#10;        run: ./gradlew clean test -Psuite=${{ matrix.suite }} -Penv=staging --no-daemon --stacktrace&#10;        env:&#10;          GITHUB_ACTIONS: true&#10;          CHROME_BIN: /usr/bin/google-chrome&#10;          CHROMEDRIVER_PATH: /usr/local/bin/chromedriver&#10;&#10;      - name: Generate Test Report&#10;        if: always()&#10;        run: |&#10;          echo &quot;Test execution completed&quot;&#10;          ls -la build/reports/tests/test/ || echo &quot;No test reports found&quot;&#10;&#10;      - name: Upload Test Reports&#10;        if: always()&#10;        uses: actions/upload-artifact@v4&#10;        with:&#10;          name: test-reports-${{ matrix.suite }}&#10;          path: |&#10;            build/reports/tests/test/&#10;            build/test-results/test/&#10;          retention-days: 30&#10;&#10;      - name: Upload Test Results&#10;        if: always()&#10;        uses: actions/upload-artifact@v4&#10;        with:&#10;          name: test-results-${{ matrix.suite }}&#10;          path: build/test-results/test/*.xml&#10;          retention-days: 30&#10;&#10;      - name: Publish Test Results&#10;        if: always()&#10;        uses: EnricoMi/publish-unit-test-result-action@v2&#10;        with:&#10;          files: |&#10;            build/test-results/test/*.xml&#10;          check_name: Test Results - ${{ matrix.suite }}&#10;          comment_mode: off&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/test/java/core/DriverManager.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/test/java/core/DriverManager.java" />
              <option name="originalContent" value="package core;&#10;&#10;import io.github.bonigarcia.wdm.WebDriverManager;&#10;import org.openqa.selenium.WebDriver;&#10;import org.openqa.selenium.chrome.ChromeDriver;&#10;import org.openqa.selenium.chrome.ChromeOptions;&#10;import org.openqa.selenium.firefox.FirefoxDriver;&#10;public class DriverManager {&#10;&#10;    private static final ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;&gt;();&#10;&#10;    public static void initDriver(String browser) {&#10;        WebDriver webDriver = null;&#10;        switch (browser.toLowerCase()) {&#10;            case &quot;chrome&quot; -&gt; {&#10;                String githubActions = System.getenv(&quot;GITHUB_ACTIONS&quot;);&#10;&#10;                if (githubActions == null || !githubActions.equals(&quot;true&quot;)) {&#10;                    WebDriverManager.chromedriver().setup();&#10;                }&#10;&#10;                ChromeOptions options = new ChromeOptions();&#10;&#10;                options.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);&#10;                options.addArguments(&quot;--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36&quot;);&#10;                options.addArguments(&quot;--disable-web-resources&quot;);&#10;                options.addArguments(&quot;--disable-extensions&quot;);&#10;                options.addArguments(&quot;--disable-plugins&quot;);&#10;                options.addArguments(&quot;--disable-component-extensions-with-background-pages&quot;);&#10;                options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);&#10;                options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});&#10;&#10;                if (githubActions != null &amp;&amp; githubActions.equals(&quot;true&quot;)) {&#10;                    String chromeBin = System.getenv(&quot;CHROME_BIN&quot;);&#10;                    if (chromeBin != null &amp;&amp; !chromeBin.isEmpty()) {&#10;                        options.setBinary(chromeBin);&#10;                    }&#10;                    options.addArguments(&quot;--headless=new&quot;);&#10;                    options.addArguments(&quot;--disable-gpu&quot;);&#10;                    options.addArguments(&quot;--window-size=1920,1080&quot;);&#10;                    options.addArguments(&quot;--no-sandbox&quot;);&#10;                    options.addArguments(&quot;--disable-dev-shm-usage&quot;);&#10;                    options.addArguments(&quot;--disable-setuid-sandbox&quot;);&#10;                    options.addArguments(&quot;--remote-debugging-port=9222&quot;);&#10;                    options.addArguments(&quot;--disable-software-rasterizer&quot;);&#10;                }&#10;                webDriver = new ChromeDriver(options);&#10;            }&#10;            case &quot;firefox&quot; -&gt; {&#10;                WebDriverManager.firefoxdriver().setup();&#10;                webDriver = new FirefoxDriver();&#10;            }&#10;        }&#10;        driver.set(webDriver);&#10;    }&#10;&#10;    public static WebDriver getDriver() {&#10;        return driver.get();&#10;    }&#10;&#10;    public static void quitDriver() {&#10;        if (driver.get() != null) {&#10;            driver.get().quit();&#10;            driver.remove();&#10;        }&#10;    }&#10;&#10;}&#10;" />
              <option name="updatedContent" value="package core;&#10;&#10;import io.github.bonigarcia.wdm.WebDriverManager;&#10;import org.openqa.selenium.WebDriver;&#10;import org.openqa.selenium.chrome.ChromeDriver;&#10;import org.openqa.selenium.chrome.ChromeOptions;&#10;import org.openqa.selenium.firefox.FirefoxDriver;&#10;&#10;public class DriverManager {&#10;&#10;    private static final ThreadLocal&lt;WebDriver&gt; driver = new ThreadLocal&lt;&gt;();&#10;&#10;    public static void initDriver(String browser) {&#10;        WebDriver webDriver = null;&#10;        switch (browser.toLowerCase()) {&#10;            case &quot;chrome&quot; -&gt; {&#10;                String githubActions = System.getenv(&quot;GITHUB_ACTIONS&quot;);&#10;                boolean isCI = githubActions != null &amp;&amp; githubActions.equals(&quot;true&quot;);&#10;                &#10;                System.out.println(&quot;=== Driver Initialization ===&quot;);&#10;                System.out.println(&quot;Running in CI: &quot; + isCI);&#10;                &#10;                if (!isCI) {&#10;                    System.out.println(&quot;Setting up ChromeDriver via WebDriverManager&quot;);&#10;                    WebDriverManager.chromedriver().setup();&#10;                } else {&#10;                    System.out.println(&quot;Using pre-installed ChromeDriver from CI&quot;);&#10;                    String chromeDriverPath = System.getenv(&quot;CHROMEDRIVER_PATH&quot;);&#10;                    if (chromeDriverPath != null &amp;&amp; !chromeDriverPath.isEmpty()) {&#10;                        System.setProperty(&quot;webdriver.chrome.driver&quot;, chromeDriverPath);&#10;                        System.out.println(&quot;ChromeDriver path set to: &quot; + chromeDriverPath);&#10;                    }&#10;                }&#10;&#10;                ChromeOptions options = new ChromeOptions();&#10;&#10;                options.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);&#10;                options.addArguments(&quot;--disable-web-resources&quot;);&#10;                options.addArguments(&quot;--disable-extensions&quot;);&#10;                options.addArguments(&quot;--disable-plugins&quot;);&#10;                options.addArguments(&quot;--disable-component-extensions-with-background-pages&quot;);&#10;                options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);&#10;                options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});&#10;&#10;                if (isCI) {&#10;                    System.out.println(&quot;Configuring Chrome for CI environment&quot;);&#10;                    String chromeBin = System.getenv(&quot;CHROME_BIN&quot;);&#10;                    if (chromeBin != null &amp;&amp; !chromeBin.isEmpty()) {&#10;                        options.setBinary(chromeBin);&#10;                        System.out.println(&quot;Chrome binary set to: &quot; + chromeBin);&#10;                    } else {&#10;                        System.out.println(&quot;CHROME_BIN not set, using default&quot;);&#10;                    }&#10;                    &#10;                    options.addArguments(&quot;--headless=new&quot;);&#10;                    options.addArguments(&quot;--disable-gpu&quot;);&#10;                    options.addArguments(&quot;--window-size=1920,1080&quot;);&#10;                    options.addArguments(&quot;--no-sandbox&quot;);&#10;                    options.addArguments(&quot;--disable-dev-shm-usage&quot;);&#10;                    options.addArguments(&quot;--disable-setuid-sandbox&quot;);&#10;                    options.addArguments(&quot;--remote-debugging-port=9222&quot;);&#10;                    options.addArguments(&quot;--disable-software-rasterizer&quot;);&#10;                    options.addArguments(&quot;--remote-allow-origins=*&quot;);&#10;                    System.out.println(&quot;Headless mode enabled with CI-specific options&quot;);&#10;                } else {&#10;                    options.addArguments(&quot;--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36&quot;);&#10;                }&#10;                &#10;                try {&#10;                    System.out.println(&quot;Creating ChromeDriver instance...&quot;);&#10;                    webDriver = new ChromeDriver(options);&#10;                    System.out.println(&quot;ChromeDriver created successfully!&quot;);&#10;                } catch (Exception e) {&#10;                    System.err.println(&quot;Failed to create ChromeDriver: &quot; + e.getMessage());&#10;                    e.printStackTrace();&#10;                    throw e;&#10;                }&#10;            }&#10;            case &quot;firefox&quot; -&gt; {&#10;                WebDriverManager.firefoxdriver().setup();&#10;                webDriver = new FirefoxDriver();&#10;            }&#10;        }&#10;        driver.set(webDriver);&#10;    }&#10;&#10;    public static WebDriver getDriver() {&#10;        return driver.get();&#10;    }&#10;&#10;    public static void quitDriver() {&#10;        if (driver.get() != null) {&#10;            driver.get().quit();&#10;            driver.remove();&#10;        }&#10;    }&#10;&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>